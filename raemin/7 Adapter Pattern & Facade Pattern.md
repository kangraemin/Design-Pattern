# 7. Adapter Pattern & Facade Pattern

# π“ Adapter / Facade Pattern

## π“– Adapt new library problem - Adapter Pattern

- κΈ°μ΅΄μ μ‹μ¤ν…μ΄ μκ³ , μ™Έμ£Όμ—…μ²΄μ—μ„ μ¶”κ°€μ μΈ μ½”λ“λ¥Ό λ°›λ” μƒν™©μ„ κ°€μ •
- μ΄λ•, κΈ°μ΅΄μ μ‹μ¤ν…μ—μ„ μ‚¬μ©ν•κ³  μλ” μΈν„°νμ΄μ¤μ™€, μ™Έμ£Όμ—…μ²΄μ—μ„ μ¤€ μ½”λ“μ μΈν„°νμ΄μ¤κ°€ λ‹¤λ¥Έ κ²½μ°κ°€ μμ„ μ μμ
- κΈ°μ΅΄μ μ‹μ¤ν…κ³Ό, μ™Έμ£Όμ—…μ²΄μ μ½”λ“λ¥Ό μμ •ν•  μ μ—†λ” μƒν™©μΌ λ• κΈ°μ΅΄ μ‹μ¤ν…μ μΈν„°νμ΄μ¤μ™€, μ™Έμ£Όμ—…μ²΄ μ½”λ“μ μΈν„°νμ΄μ¤λ¥Ό μ΄μ–΄μ£Όλ” μ–΄λ‘ν„°λ¥Ό λ§λ“¤ μ μμ
- μ΄ μ–΄λ‘ν„°λ¥Ό λ§λ“¤μ–΄ μΈν„°νμ΄μ¤λΌλ¦¬ νΈν™λλ„λ΅ μ—°κ²°ν•΄μ£Όλ” λ°©μ‹μ΄ μ–΄λ‘ν„° ν¨ν„΄
    
    ```java
    interface Duck {
    		public void quack();
    		public void fly();
    }
    ```
    
    ```java
    interface Turkey {
    		public void gobble(); // κ³¨κ³¨ κ±°λ¦¬κΈ°
    		public void fly();
    }
    ```
    
    ```java
    class TurkeyAdapter implements Duck {
    		Turkey turkey;
    
    		TurkeyAdapter(Turkey turkey) {
    				this.turkey = turkey;
    		}
    
    		void quack() {
    				turkey.gobble();
    		}
    
    		void fly() {
    				for (int i = 0; i < 5; i++) {
    						turkey.fly();
    				}
    		}
    }
    ```
    
    ```java
    Duck turkeyAdapter = new TurkeyAdapter(turkey);
    ```
    
    - μ„μ™€ κ°™μ΄, Turkey ( μ™Έμ£Όμ—…μ²΄ μ½”λ“ ) λ¥Ό TurkeyAdapter λ¥Ό ν†µν•΄ Duckμ— λ§μ¶”μ–΄ μ¤
    - κ·Έλ ‡λ‹¤λ©΄, turkeyλ¥Ό DuckμΌλ΅ λ³€ν™ν•μ—¬ λ™μΌν•κ² μ‚¬μ© ν•  μ μμ
    - μ΄λ•, μ–΄λ‘ν„°λ¥Ό ν†µν•΄ λ³€κ²½λλ” μΈν„°νμ΄μ¤ ( Turkey )λ¥Ό `μ–΄λ‘ν‹° μΈν„°νμ΄μ¤` λΌκ³  ν•κ³ , λ³€κ²½ν•κ³ μ ν•λ” κ²°κ³Ό μΈν„°νμ΄μ¤ ( Duck )λ¥Ό `νƒ€κ² μΈν„°νμ΄μ¤` λΌκ³  ν•¨
    - κΈ°μ΅΄μ— Duckμ„ κΈ°μ¤€μΌλ΅ μ§μ—¬μ Έ μλ” μ‹μ¤ν…μ„ `ν΄λΌμ΄μ–ΈνΈ` λΌκ³  ν•¨

## π“– Home theater problem - Facade Pattern

- Facade λ” μ™Έκ΄€, κ²‰λ¨μ–‘μ„ μλ―Έν•λ” λ‹¨μ–΄
- λ§μ•½ ν™μ”¨μ–΄ν„°λ¥Ό ν†µν•΄ μν™”λ¥Ό λ³Έλ‹¤λ©΄, νμ½ κΈ°κ³„λ¥Ό μ‘λ™μ‹ν‚¤κ³  β†’ λ°©μ•μ λ¶μ„ μ΅°μ ν•κ³  β†’ μ¤ν¬λ¦°μ„ λ‚΄λ¦¬κ³  ... λ“±λ“±μ μ‘μ—…μ„ μ§„ν–‰ ν•΄μ•Ό ν•¨
- μν™”λ¥Ό λ³Ό λ• μ΄λ° κΈ°λ¥λ“¤μ„ μΌμΌμ΄ μ΅°μ‘ν•κΈ°λ”κ²ƒμ€ λ„λ¬΄λ‚λ„ κ·€μ°®κ³ , ν•©λ¦¬μ μ΄μ§€ λ»ν•¨
- λ”°λΌμ„ μ΄λ° κΈ°λ¥λ“¤μ„ λ―Έλ¦¬ κµ¬ν„ν•΄λ†“μ€ Facade ν΄λμ¤λ¥Ό λ§λ“¤μ–΄ λ‘κ³ , Facade ν΄λμ¤λ¥Ό ν†µν•΄ μν™”λ¥Ό ν‚¤κ±°λ‚, μν™”λ¥Ό λ„λ„λ΅ κµ¬ν„
- κ·Έλ¬λ©΄ μ μ €λ” `μν™” μΌκΈ°` λΌλ” λ²„νΌλ§ λ„λ¥΄λ©΄, νμ½ κΈ°κ³„λ¥Ό μ‘λ™μ‹ν‚¤κ³  β†’ λ°©μ•μ λ¶μ„ μ΅°μ ν•κ³  λ“± μ΄λ° μ‘μ—…λ“¤μ„ ν•λ²μ— μ§„ν–‰ ν•  μ μλ„λ΅ ν•λ”κ²ƒ
    
    ```java
    class HomeTheaterFacade {
    		PopconPopper popper;
    		Tuner tuner;
    		...
    
    		HomeTheaterFacade(PopconPopper popper, Tuner tuner ...) {
    				this.popper = popper;
    				this.tuner = tuner;
    		}
    
    		void watchMovie(String movie) {
    				popper.on();
    				popper.pop();
    				...
    		}
    }
    ```
    
    ```java
    HomeTheaterFacade homeTheaterFacade = new HomeTheaterFacade(...);
    homeTheaterFacade.watchMovie();
    ```
    
- νΌμ‚¬λ“ ν¨ν„΄μ„ μ μ©ν•¨μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈ ( HomeTheaterFacade κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” κ³³ )κ³Ό, μ„λΈμ‹μ¤ν… ( HomeTheaterFacade ν΄λμ¤ )λ¥Ό λ¶„λ¦¬ ν•  μ μμ
- μ¦‰, ν™μ‹μ–΄ν„°μ— κΈ°λ¥μ΄ μ¶”κ°€λλ”λΌλ„ ν΄λΌμ΄μ–ΈνΈλ¥Ό μμ •ν•λ” κ²ƒμ΄ μ•„λ‹λΌ HomeTheaterFacade λ§ μμ •ν•λ©΄ λ¨

## π“– μ†κ°λ λ””μμΈ ν¨ν„΄ μ›μΉ™ μ •λ¦¬

### μ–΄λ‘ν„° ν¨ν„΄

<aside>
π’΅ μΈν„°νμ΄μ¤λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—μ„ μ‚¬μ©ν•κ³ μ ν•λ” μΈν„°νμ΄μ¤ ν•νƒλ΅ λ³€ν™ν•΄μ£Όλ” ν¨ν„΄

</aside>

- μ–΄λ‘ν„°λ¥Ό ν™μ©ν•λ©΄, μΈν„°νμ΄μ¤ νΈν™μ„± λ¬Έμ  λ•λ¬Έμ— κ°™μ΄ μ“Έ μ μ—†λ” ν΄λμ¤λ“¤μ„ μ—°κ²°ν•΄μ„ μ‚¬μ© ν•  μ μμ
- μ„μ Turkey, Duck μμ‹λ¥Ό λ΄¤μ„λ–„ Turkey μ¦‰, μ–΄λ‘ν‹°μ κ°μ²΄ κµ¬μ„±μ„ κ°€μ§€κ³  μ–΄λ‘ν„° ν΄λμ¤λ¥Ό λ§λ“¬
- μ¦‰, Turkeyλ¥Ό κµ¬ν„ν•κ³  μλ” / μƒμ†ν•κ³  μλ” ν•μ‹μ΄λΌλ©΄ λ¨λ‘ μ–΄λ‘ν„°λ¥Ό ν†µν•΄ λ³€ν™ ν•  μ μμμ„ μλ―Έ
- λ§μ•½ `νƒ€κ² μΈν„°νμ΄μ¤` μ—λ” κΈ°λ¥μ΄ μ΅΄μ¬ν•μ§€λ§, `μ–΄λ‘ν„° μΈν„°νμ΄μ¤` μ—λ” μ΅΄μ¬ν•μ§€ μ•λ” κΈ°λ¥μ΄λΌλ©΄ exception μ²λ¦¬λ¥Ό μ ν•΄μ£Όμ–΄μ•Ό ν•¨
    - μ±…μ—μ„, Enumeration β†’ Iterator μ½”λ“μ μμ‹λ¥Ό μ μ‹
    - Iterator μΈν„°νμ΄μ¤μ—λ” `remove` κΈ°λ¥μ΄ μμ§€λ§, Enumerationμ—λ” `remove` κΈ°λ¥μ΄ μ—†μμ„ μ΄μ•ΌκΈ° ν•¨
    - μ΄λ–„μ—”  remove methodλ¥Ό νΈμ¶ ν•  λ•μ—” `UnsupportedOperationException` μ„ λμ Έ μ£Όλ„λ΅ κµ¬ν„

### νΌμ‚¬λ“ ν¨ν„΄

<aside>
π’΅ μ„λΈμ‹μ¤ν…λ“¤μ΄ μ΅°ν•©λ ν†µν•©λ μΈν„°νμ΄μ¤λ¥Ό μ κ³µ ν•΄ μ¤

</aside>

- λ”°λΌμ„ ν΄λΌμ΄μ–ΈνΈκ°€ μ„λΈμ‹μ¤ν…λ“¤μ„ μΌμΌμ΄ μ• ν•„μ”κ°€ μ—†μ΄ Facadeλ§ μ•λ©΄ μ„λΈμ‹μ¤ν…μ κΈ°λ¥λ“¤μ„ λ¬¶μ–΄μ„ ν™μ© ν•  μ μμ
- μ¦‰, ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λΈμ‹μ¤ν…μ κΈ°λ¥λ“¤μ„ λ‹¨μν•κ² μ‚¬μ©ν•  μ μμ

### μµμ† μ§€μ‹ μ›μΉ™

<aside>
π’΅ κ°μ²΄μ™€ μƒνΈμ‘μ© ν•λ” ( μμ΅΄λμ–΄ μλ” ) κ°μ²΄μ μκ°€ μ‘μΌλ©΄ μ‘μ„μλ΅ μΆ‹μ

</aside>

- μλ¥Όλ“¤μ–΄, κ°μ²΄ μ•μ— κ°μ²΄λ¥Ό κ°€μ Έμ™€ νΈμ¶μ„ ν•λ” κ²½μ°λ¥Ό μƒμ •
    
    ```java
    float getTemp() {
    		Thermometer thermometer = station.getThermometer();
    		return thermometer.getTemperature();
    }
    ```
    
    ```java
    float getTemp() {
    			return station.getTemperature();
    }
    ```
    
    - μ•„λμ μμ‹μ—μ„λ” station ν΄λμ¤ λ‚΄λ¶€μ—μ„ `Thermometer` κ°μ²΄λ¥Ό νΈμ¶ν•¨μΌλ΅μ¨, getTempκ°€ κµ¬ν„λμ–΄ μλ” ν΄λμ¤μ—μ„  `Thermometer` μ— μμ΅΄ν•μ§€ μ•λ„λ΅ κµ¬ν„ ν•μ€μ
- μ΄ μ›μΉ™μ„ ν†µν•΄ κ°μ²΄λ“¤ μ‚¬μ΄μ—μ„ μμ΅΄μ„±μ„ μ¤„μΌ μ μμ